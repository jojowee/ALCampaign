<!DOCTYPE html>
<html style="height: 100%; margin: 0;">
<head><style type="text/css"></style>
<title>AvatarLegendsMap: ALCampaign</title>

<meta name="viewport" content="width:device-width, initial-scale=1.0">

<link rel="stylesheet" href="scripts/leaflet/leaflet.css">

<script src="scripts/leaflet/leaflet.js"></script>

</head>
<body style="height:100%; margin: 0;">

<div id="map" style="width: 100%; height:  100%; background:  #FFFFFF;"></div>

<script tyle="text/javascript">

//Variables

var mapSW = [2829, 11778],
	mapNE = [13566, 4646];

// Declare Map Object
var map = L.map('map', {
	zoomSnap: 0.5,
}).setView([0, 0], 1);


// Reference Tiles
L.tileLayer('Tiles/{z}/{x}/{y}.png', {
	minZoom: 3.5,
	maxZoom: 6,
	continuousWorld: false,
	noWrap: true,
	crs: L.CRS.Simple,

}).addTo(map);

map.setMaxBounds(new L.LatLngBounds(
	map.unproject(mapSW, map.getMaxZoom()),
	map.unproject(mapNE, map.getMaxZoom())
));

// Icons
var redIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-red.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var greenIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-green.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var yellowIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-yellow.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var violetIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-violet.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var greyIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-grey.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});


// Markers and Popups
//LatLng
var marker = L.marker([0, 0], {
	draggable: true,
	icon: violetIcon
}).addTo(map);
marker.bindPopup('');

marker.on('dragend', function(e) {
	marker.getPopup().setContent('Our Heroes' + '<br />'
		+ 'Pixels ' + map.project(marker.getLatLng(), map.getMaxZoom().toString()))
	.openOn(map);
});

//Settlement Markers
var set_omashu = L.marker(map.unproject([8795, 8172], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Omashu</b>').bindTooltip('<b>Omashu</b>');

var set_wanhu = L.marker(map.unproject([8145, 8249], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Wan Hu</b>').bindTooltip('<b>Wan Hu</b>');

var set_gaipan = L.marker(map.unproject([8788, 7843], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Gaipan</b>').bindTooltip('<b>Gaipan</b>');

var set_senlin = L.marker(map.unproject([8171, 7982], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Senlin</b>').bindTooltip('<b>Senlin</b>');

var set_fongs = L.marker(map.unproject([8465, 8432], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Fong&apos;s Fortress</b>').bindTooltip('<b>Fong&aposs Fortress</b>');

var set_plains = L.marker(map.unproject([9108, 8706], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Plains Village</b>').bindTooltip('<b>Plains Village</b>');

var set_misty = L.marker(map.unproject([9258, 8717], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Misty Palms Oasis</b>').bindTooltip('<b>Misty Palms Oasis</b>');

var set_chin = L.marker(map.unproject([8522, 8955], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Chin Village</b>').bindTooltip('<b>Chin Village</b>');

var set_qinchao = L.marker(map.unproject([8449, 8822], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Qinchao</b>').bindTooltip('<b>Qinchao</b>');
	
var set_nair = L.marker(map.unproject([8704, 6291], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Northern Air Temple</b>').bindTooltip('<b>Northern Air Temple</b>');

var set_eair = L.marker(map.unproject([10878, 8569], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Eastern Air Temple</b>').bindTooltip('<b>Eastern Air Temple</b>');
	
var set_sair = L.marker(map.unproject([7571, 9439], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Southern Air Temple</b>').bindTooltip('<b>Southern Air Temple</b>');
	
var set_wair = L.marker(map.unproject([6588, 6927], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Western Air Temple</b>').bindTooltip('<b>Western Air Temple</b>');
	
var set_agna = L.marker(map.unproject([8138, 6078], map.getMaxZoom())
.bindPopup('<b>Agna Qel&aposa</b>').bindTooltip('<b>Agna Qel&aposa</b>');
			
var set_wolf = L.marker(map.unproject([7786, 10272], map.getMaxZoom())
.bindPopup('<b>Wolf Cove</b>').bindTooltip('<b>Wolf Cove</b>');
	
var set_nwater = L.marker(map.unproject([7920, 6120], map.getMaxZoom())
.bindPopup('<b>Northern Water Tribes</b>').bindTooltip('<b>Northern Water Tribes</b>');

var set_swater = L.marker(map.unproject([7588, 10392], map.getMaxZoom())
.bindPopup('<b>Southern Water Tribes</b>').bindTooltip('<b>Southern Water Tribes</b>');

//Landmark Markers
var lm_siwong = L.marker(map.unproject([9277, 8360], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Si Wong Desert</b>').bindTooltip('<b>Si Wong Desert</b>');

var lm_foggy = L.marker(map.unproject([8845, 8588], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>The Foggy Swamp</b>').bindTooltip('<b>The Foggy Swamp</b>');

var lm_twolovers = L.marker(map.unproject([8690, 8222], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Cave of Two Lovers</b>').bindTooltip('<b>Cave of Two Lovers</b>');

var lm_kolau = L.marker(map.unproject([8892, 8165], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Kolau Mountain Range</b>').bindTooltip('<b>Kolau Mountain Range</b>');

var lm_divide = L.marker(map.unproject([8590, 7554], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>The Great Divide</b>').bindTooltip('<b>The Great Divide</b>');

var lm_serpent = L.marker(map.unproject([9160, 7475], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Serpent&apos;s Pass</b>').bindTooltip('<b>Serpent&aposs Pass</b>');
	
var lm_nspirit = L.marker(map.unproject([8048, 5840], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Northern Spirit Portal</b>').bindTooltip('<b>Northern Spirit Portal</b>');
	
var lm_sspirit = L.marker(map.unproject([8070, 10588], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Southern Spirit Portal</b>').bindTooltip('<b>Southern Spirit Portal</b>');

//Layer Groups
var lg_set = L.layerGroup([set_omashu, set_wanhu, set_gaipan, set_senlin, set_fongs, set_plains, set_misty, set_chin, set_qinchao,
			  set_nair, set_eair, set_sair, set_wair, set_agna, set_wolf, set_nwater, set_swater]);

var lg_lm = L.layerGroup([lm_siwong, lm_foggy, lm_kolau, lm_divide, lm_serpent, lm_twolovers, lm_nspirit, lm_sspirit]);

var overlay = {
	"Settlements" : lg_set,
	"Landmarks and Natural Features" : lg_lm
}

//Add Layer Control
map.addLayer(lg_set)
map.addLayer(lg_lm)

L.control.layers(null, overlay, {collapsed: false}).addTo(map);

//legend

var legend = L.control({ position: "bottomleft" });

legend.onAdd = function(map) {
  var div = L.DomUtil.create("div", "legend");
  div.innerHTML += "<h4>Legend</h4>";
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon.png);background-repeat: no-repeat;"></i><span>Water</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-green.png);background-repeat: no-repeat;"></i><span>Earth</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-red.png);background-repeat: no-repeat;"></i><span>Fire</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-yellow.png);background-repeat: no-repeat;"></i><span>Air</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-grey.png);background-repeat: no-repeat;"></i><span>Landmarks</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-2x-violet.png);background-repeat: no-repeat;"></i><span>Players</span><br>';
  
  

  return div;
};

legend.addTo(map);


</script>


</body>
</html>
