<!DOCTYPE html>
<html style="height: 100%; margin: 0;">
<head><style type="text/css"></style>
<title>AvatarLegendsMap: ALCampaign</title>

<meta name="viewport" content="width:device-width, initial-scale=1.0">

<link rel="stylesheet" href="scripts/leaflet/leaflet.css">

<script src="scripts/leaflet/leaflet.js"></script>

</head>
<body style="height:100%; margin: 0;">

<div id="map" style="width: 100%; height:  100%; background:  #FFFFFF;"></div>

<script tyle="text/javascript">

	//Variables
var mapSW = [2829, 11778],
	mapNE = [13566, 4646];

	// Declare Map Object
var map = L.map('map', {
	zoomSnap: 0.5,
}).setView([0, 0], 1);


	// Reference Tiles
L.tileLayer('Tiles/{z}/{x}/{y}.png', {
	minZoom: 3.5,
	maxZoom: 6,
	continuousWorld: false,
	noWrap: true,
	crs: L.CRS.Simple,

}).addTo(map);


map.setMaxBounds(new L.LatLngBounds(
	map.unproject(mapSW, map.getMaxZoom()),
	map.unproject(mapNE, map.getMaxZoom())
));

// Icons
var redIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-red.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var greenIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-green.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var yellowIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-yellow.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var violetIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-violet.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

var greyIcon = new L.Icon({
	iconUrl: 'scripts/leaflet/images/marker-icon-2x-grey.png',
	shadowUrl: 'scripts/leaflet/images/marker-shadow.png',
	iconSize: [25, 41],
	iconAnchor: [12, 41],
	popupAnchor: [1, -34],
	shadowSize: [41, 41]
});

	// Markers and Popups
		//LatLng
var marker = L.marker([0, 0], {
	draggable: true,
	icon: violetIcon,
	riseOnHover: true
}).addTo(map);
marker.bindPopup('');

marker.on('dragend', function(e) {
	marker.getPopup().setContent('Our Heroes' + '<br />'
		+ 'Pixels ' + map.project(marker.getLatLng(), map.getMaxZoom().toString()))
	.openOn(map);

	
});


	//Settlement Markers
		//Earth
var set_omashu = L.marker(map.unproject([8795, 8172], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Omashu</b><br>Heng&apos;s hometown<br><br>Omashu is the second largest city in the Earth Kingdom after Ba Sing Se. An impressive sight, it stands in the southwest of the Earth Kingdom high atop a mountain within the Kolau Mountain Range. Legend has it that the city was founded to honor the tragic lovers Oma and Shu who carried on a forbidden romance despite hailing from warring villages. According to the story, Shu died in battle between the villages, and in her grief, Oma enacted an amazing feat of earthbending that could have destroyed both settlements. Instead, she declared the war over, and the two populations merged to create the city of Omashu.<br><br>The city&apos;s most unusual feature is its mail delivery system. This intricate system is a network of large chutes partly operated by earthbending. Omashu is also known for innovation and technological progress - its inventors see technology and bending as working hand in hand. Due to its size, importance, and unique innovations, Omashu has always competed with Ba Sing Se for prominence in the Earth Kingdom.').bindTooltip('<b>Omashu</b>');

var set_wanhu = L.marker(map.unproject([8145, 8249], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Wan Hu</b><br><br>A small fishing village on the western coast of the Earth Kingdom. Mana took residence here after leaving Agna Qel&apos;a').bindTooltip('<b>Wan Hu</b>');

var set_gaipan = L.marker(map.unproject([8788, 7843], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Gaipan</b><br>Bao&apos;s hometown').bindTooltip('<b>Gaipan</b>');

var set_senlin = L.marker(map.unproject([8171, 7982], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Senlin</b><br>Mica&apos;s hometown').bindTooltip('<b>Senlin</b>');

var set_fongs = L.marker(map.unproject([8465, 8432], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Fong&apos;s Fortress</b><br>Fong&apos;s Fortress is a secluded Earth Kingdom military facility situated in a mountain range on the west coast. It is one of the many Earth Kingdom strongholds in this area. The complex includes barracks for the troops, guest quarters, a large infirmary to care for injured soldiers, a temple for prayer, and even a recreation area for soldiers to relax. The fortress holds strategic significance to the Earth Kingdom, as its proximity to the Fire Nation mainland makes it well positioned for any potential invasion.').bindTooltip('<b>Fong&apos;s Fortress</b>');

var set_plains = L.marker(map.unproject([9108, 8706], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Plains Village</b>').bindTooltip('<b>Plains Village</b>');

var set_misty = L.marker(map.unproject([9258, 8717], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Misty Palms Oasis</b>').bindTooltip('<b>Misty Palms Oasis</b>');

var set_chin = L.marker(map.unproject([8522, 8955], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Chin Village</b>').bindTooltip('<b>Chin Village</b>');

var set_qinchao = L.marker(map.unproject([8449, 8822], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Qinchao</b>').bindTooltip('<b>Qinchao</b>');

var set_abbe = L.marker(map.unproject([7574, 7145], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Abbey</b>').bindTooltip('<b>Abbey</b>');

var set_makv = L.marker(map.unproject([7860, 7313], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Makapu Village</b>').bindTooltip('<b>Makapu Village</b>');

var set_hart = L.marker(map.unproject([8044, 7481], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Harbor Town</b>').bindTooltip('<b>Harbor Town</b>');

var set_semp = L.marker(map.unproject([8135, 7679], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Seedy Merchants Pier</b>').bindTooltip('<b>Seedy Merchants Pier</b>');

var set_kyoi = L.marker(map.unproject([8463, 9092], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Kyoshi Island</b>').bindTooltip('<b>Kyoshi Island</b>');

var set_gaol = L.marker(map.unproject([9074, 8847], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Gaoling</b>').bindTooltip('<b>Gaoling</b>');

var set_tuzi = L.marker(map.unproject([9655, 8768], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Tuzin</b>').bindTooltip('<b>Tuzin</b>');

var set_cheb = L.marker(map.unproject([8416, 6959], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Chenbao</b>').bindTooltip('<b>Chenbao</b>');

var set_agrz = L.marker(map.unproject([9603, 6949], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Agrarian Zone</b>').bindTooltip('<b>Agrarian Zone</b>');

var set_outw = L.marker(map.unproject([9771, 7369], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Outer Wall</b>').bindTooltip('<b>Outer Wall</b>');

var set_lowr = L.marker(map.unproject([9877, 7162], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Lower Ring</b>').bindTooltip('<b>Lower Ring</b>');

var set_midr = L.marker(map.unproject([9864, 6992], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Middle Ring</b>').bindTooltip('<b>Middle Ring</b>');

var set_uppr = L.marker(map.unproject([9924, 7015], map.getMaxZoom()), {icon: greenIcon})
.bindPopup('<b>Upper Ring</b>').bindTooltip('<b>Upper Ring</b>');
	
		//Air
var set_nair = L.marker(map.unproject([8704, 6291], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Northern Air Temple</b>').bindTooltip('<b>Northern Air Temple</b>');

var set_eair = L.marker(map.unproject([10878, 8569], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Eastern Air Temple</b>').bindTooltip('<b>Eastern Air Temple</b>');
	
var set_sair = L.marker(map.unproject([7571, 9439], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Southern Air Temple</b>').bindTooltip('<b>Southern Air Temple</b>');
	
var set_wair = L.marker(map.unproject([6588, 6927], map.getMaxZoom()), {icon: yellowIcon})
.bindPopup('<b>Western Air Temple</b><br>Meru&apos;s home before it was attacked by the Fire Nation').bindTooltip('<b>Western Air Temple</b>');
	
		//Water
var set_agna = L.marker(map.unproject([8138, 6078], map.getMaxZoom()))
.bindPopup('<b>Agna Qel&apos;a</b></br>Mana&apos;s hometown<br>Capitol of the Northern Water Tribes').bindTooltip('<b>Agna Qel&apos;a</b>');
			
var set_wolf = L.marker(map.unproject([7786, 10272], map.getMaxZoom()))
.bindPopup('<b>Wolf Cove</b><br>Capitol of the Southern Water Tribes').bindTooltip('<b>Wolf Cove</b>');
	
var set_nwater = L.marker(map.unproject([7920, 6120], map.getMaxZoom()))
.bindPopup('<b>Northern Water Tribes</b>').bindTooltip('<b>Northern Water Tribes</b>');

var set_swater = L.marker(map.unproject([7588, 10392], map.getMaxZoom()))
.bindPopup('<b>Southern Water Tribes</b>').bindTooltip('<b>Southern Water Tribes</b>');
	
		//Fire

var set_wasi = L.marker(map.unproject([7535, 8888], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Water Tribes Sacred Island</b><br>For thousands of years, severe disputes between the Northern and the Southern Water Tribes were brought to this island, and chiefs made a voyage to the sacred island at least once in their careers to pay respect to the land.<br><br> During the era of Roku, on one such voyage, a Southern chieftain by the name of Tana was surprised to find Fire Nation ships docked on the island. Through political channels, Northern chief Skiri learned that the Fire Nation had claimed the island as their own. Skiri was ready to send a majority of his fleet to reclaim it, but he needed support from the Southern chieftains, who for some time did not come to a consensus on how to proceed, as they were not willing to start a war with the Fire Nation.<br><br>It is now controlled by the Fire Nation.').bindTooltip('<b>Water Tribes Sacred Island</b>');

var set_suwc = L.marker(map.unproject([6096, 7241], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Sun Warrior City</b>').bindTooltip('<b>Sun Warrior City</b>');

var set_embi = L.marker(map.unproject([6432, 8047], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Ember Island</b>').bindTooltip('<b>Ember Island</b>');

var set_filv = L.marker(map.unproject([6401, 8001], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Fire Lily Village</b>').bindTooltip('<b>Fire Lily Village</b>');

var set_chcv = L.marker(map.unproject([6317, 8713], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Chin Cha Village</b>').bindTooltip('<b>Chin Cha Village</b>');

var set_bhai = L.marker(map.unproject([6307, 8192], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Bhanti Island</b>').bindTooltip('<b>Bhanti Island</b>');

var set_janh = L.marker(map.unproject([7411, 7774], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Jang Hui</b>').bindTooltip('<b>Jang Hui</b>')

var set_finb = L.marker(map.unproject([7551, 7759], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Fire Nation Bazaar</b>').bindTooltip('<b>Fire Nation Bazaar</b>');

var set_whai = L.marker(map.unproject([8033, 9082], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Whaletail Island</b>').bindTooltip('<b>Whaletail Island</b>');

var set_yuda = L.marker(map.unproject([6971, 7138], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Yu Dao</b>').bindTooltip('<b>Yu Dao</b>');

var set_zigv = L.marker(map.unproject([7335, 6551], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Zigan Village</b>').bindTooltip('<b>Zigan Village</b>');

var set_fncv = L.marker(map.unproject([7918, 6811], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Fire Nation Colonial Village</b>').bindTooltip('<b>Fire Nation Colonial Village</b>');

var set_pohs = L.marker(map.unproject([8051, 7095], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Pohuai Stronghold</b>').bindTooltip('<b>Pohuai Stronghold</b>');

var set_taku = L.marker(map.unproject([8144, 7308], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Taku</b>').bindTooltip('<b>Taku</b>');

var set_cres = L.marker(map.unproject([7683, 7879], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Crescent Island</b>').bindTooltip('<b>Crescent Island</b>');
	
var set_nats = L.marker(map.unproject([7625, 7823], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Natsuo Island</b>').bindTooltip('<b>Natsuo Island</b>');

var set_shuj = L.marker(map.unproject([7261, 8042], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Shu Jing</b><br>Heng was sent to this village to train under Master Toku').bindTooltip('<b>Shu Jing</b>');
	
var set_firp = L.marker(map.unproject([7336, 7949], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Fire Island Prison</b>').bindTooltip('<b>Fire Island Prison</b>');
	
var set_nchl = L.marker(map.unproject([6765, 8228], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>North Chung-ling</b>').bindTooltip('<b>North Chung-ling</b>');
	
var set_flh = L.marker(map.unproject([5724, 8112], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>First Lord&apos;s Harbor </b>').bindTooltip('<b>First Lord&apos;s Harbor</b>');

var set_harc = L.marker(map.unproject([5690, 8123], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Harbor City</b>').bindTooltip('<b>Harbor City</b>');
	
var set_harb = L.marker(map.unproject([5563, 8074], map.getMaxZoom()), {icon: redIcon})
.bindPopup('<b>Hari Bulkan</b><br>The capitol of the Fire Nation and home of the Fire Lord').bindTooltip('<b>Hari Bulkan</b>');


	//Landmark Markers
var lm_siwong = L.marker(map.unproject([9277, 8360], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Si Wong Desert</b><br>An expansive desert. It is said to have once been completely submerged until the Ocean Spirit moved away. On some nights, spirit fish swim in the air in areas where the veil between worlds is thinnest').bindTooltip('<b>Si Wong Desert</b>');

var lm_foggy = L.marker(map.unproject([8845, 8588], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>The Foggy Swamp</b>').bindTooltip('<b>The Foggy Swamp</b>');

var lm_twolovers = L.marker(map.unproject([8690, 8222], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Cave of Two Lovers</b><br>The secret meeting tunnels created by Oma and Shu after they learned earthbending from the Badgermoles').bindTooltip('<b>Cave of Two Lovers</b>');

var lm_kolau = L.marker(map.unproject([8892, 8165], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Kolau Mountain Range</b>').bindTooltip('<b>Kolau Mountain Range</b>');

var lm_divide = L.marker(map.unproject([8590, 7554], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>The Great Divide</b>').bindTooltip('<b>The Great Divide</b>');

var lm_serpent = L.marker(map.unproject([9160, 7475], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Serpent&apos;s Pass</b>').bindTooltip('<b>Serpent&apos;s Pass</b>');
	
var lm_nspirit = L.marker(map.unproject([8048, 5840], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Northern Spirit Portal</b>').bindTooltip('<b>Northern Spirit Portal</b>');
	
var lm_sspirit = L.marker(map.unproject([8070, 10588], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Southern Spirit Portal</b>').bindTooltip('<b>Southern Spirit Portal</b>');
	
var lm_moce = L.marker(map.unproject([7830, 7652], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Mo Ce Sea</b>').bindTooltip('<b>Mo Ce Sea</b>');

var lm_pamr = L.marker(map.unproject([7240, 9518], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Patola Mountain Range</b>').bindTooltip('<b>Patola Mountain Range</b>');

var lm_wulf = L.marker(map.unproject([7036, 7334], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Wulong Forest</b>').bindTooltip('<b>Wulong Forest</b>');

var lm_solt = L.marker(map.unproject([7740, 7176], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Statue of Lady Tienhai</b>').bindTooltip('<b>Statue of Lady Tienhai</b>');

var lm_taim = L.marker(map.unproject([8656, 6676], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Taihua Mountains</b>').bindTooltip('<b>Taihua Mountains</b>');

var lm_lakl = L.marker(map.unproject([10114, 7140], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Lake Laogai</b>').bindTooltip('<b>Lake Laogai</b>');

var lm_wstl = L.marker(map.unproject([9520, 8266], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Wan Shi Tong&apos;s Library</b>').bindTooltip('<b>Wan Shi Tong&apos;s Library</b>');

var lm_chab = L.marker(map.unproject([10056, 8132], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Chameleon Bay</b>').bindTooltip('<b>Chameleon Bay</b>');

var lm_fumb = L.marker(map.unproject([9322, 7566], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Full Moon Bay</b>').bindTooltip('<b>Full Moon Bay</b>');
	
var lm_xism = L.marker(map.unproject([9798, 8638], map.getMaxZoom()), {icon: greyIcon})
.bindPopup('<b>Xishaan Mountains</b>').bindTooltip('<b>Xishaan Mountains</b>');

	//Layer Groups

var lg_water = L.layerGroup([set_agna, set_wolf, set_nwater, set_swater]);

var lg_earth = L.layerGroup([set_abbe, set_makv, set_hart, set_semp, set_kyoi, set_gaol, 
		set_tuzi, set_cheb, set_agrz, set_outw, set_lowr, set_midr, set_uppr, set_omashu, set_wanhu, 
		set_gaipan, set_senlin, set_fongs, set_plains, set_misty, set_chin, set_qinchao]);

var lg_fire = L.layerGroup([set_cres, set_nats, set_firp, set_shuj, set_nchl, set_flh, 
		set_harc, set_harb, set_wasi, set_suwc, set_embi, set_filv, set_chcv, 
		set_bhai, set_zigv, set_fncv, set_pohs, set_taku, set_janh, set_finb, set_whai, set_yuda]);

var lg_air = L.layerGroup([set_nair, set_eair, set_sair, set_wair]);

var lg_lm = L.layerGroup([lm_siwong, lm_foggy, lm_kolau, lm_divide, lm_serpent, lm_twolovers, 
		lm_nspirit, lm_sspirit, lm_moce, lm_pamr, lm_wulf, lm_solt, lm_taim, lm_lakl, lm_wstl, lm_chab, lm_fumb, lm_xism]);

var overlay = {
	"Water Tribe Settlements" : lg_water,
	"Earth Kingdom Settlements" : lg_earth,
	"Fire Nation Settlements" : lg_fire,
	"Air Nomad Settlements" : lg_air,
	"Landmarks and Natural Features" : lg_lm
}

	//Add Layer Control
map.addLayer(lg_water)
map.addLayer(lg_earth)
map.addLayer(lg_fire)
map.addLayer(lg_air)
map.addLayer(lg_lm)

L.control.layers(null, overlay, {collapsed: false}).addTo(map);

	//legend
var legend = L.control({ position: "bottomleft" });

legend.onAdd = function(map) {
  var div = L.DomUtil.create("div", "legend");
  div.innerHTML += "<h4>Legend</h4>";
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon.png);background-repeat: no-repeat;"></i><span>Water</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-green.png);background-repeat: no-repeat;"></i><span>Earth</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-red.png);background-repeat: no-repeat;"></i><span>Fire</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-yellow.png);background-repeat: no-repeat;"></i><span>Air</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-grey.png);background-repeat: no-repeat;"></i><span>Landmarks</span><br>';
  div.innerHTML += '<i class="icon" style="background-image: url(scripts/leaflet/images/marker-icon-2x-violet.png);background-repeat: no-repeat;"></i><span>Players</span><br>';
  
  return div;
};

legend.addTo(map);

</script>


</body>
</html>
